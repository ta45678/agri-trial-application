-- WARNING: This schema is for context only and is not meant to be run.
-- Table order and constraints may not be valid for execution.

CREATE TABLE public.crop_images (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  storage_url text NOT NULL,
  stage_name text CHECK (stage_name = ANY (ARRAY['Sowing'::text, 'Transplanting'::text, 'Growth'::text, 'Flowering'::text, 'Fruiting'::text, 'Harvesting'::text, 'Product Development'::text])),
  uploaded_at timestamp with time zone DEFAULT now(),
  CONSTRAINT crop_images_pkey PRIMARY KEY (id),
  CONSTRAINT crop_images_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.crop_lifecycle (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  created_at timestamp with time zone DEFAULT now(),
  farmer_name text NOT NULL,
  farmer_cell text,
  staff_name text,
  area_location text,
  crop_type text CHECK (crop_type = ANY (ARRAY['Squash'::text, 'Carrot'::text, 'Cauliflower'::text, 'Chili'::text, 'Bittergourd'::text, 'Cucumber'::text, 'Pumpkin'::text, 'Melon'::text, 'Cabbage'::text, 'Watermelon'::text])),
  crop_variety text,
  date_of_sowing date,
  date_of_transplanting date,
  germination_percent numeric,
  vegetative_growth_status text,
  plant_health text,
  plant_vigor text,
  disease_pest_attack text,
  first_flowering_date date,
  first_fruiting_date date,
  maturity_days integer,
  first_harvest_date date,
  last_harvest_date date,
  total_pickings integer,
  total_yield_kg numeric,
  market_acceptability text,
  staff_remarks text,
  farmer_dealer_remarks text,
  arti_remarks text,
  field_day_conducted boolean DEFAULT false,
  next_year_demand text,
  selection_rejection_reason text,
  current_stage text DEFAULT 'Sowing'::text CHECK (current_stage = ANY (ARRAY['Sowing'::text, 'Transplanting'::text, 'Growth'::text, 'Flowering'::text, 'Fruiting'::text, 'Harvesting'::text, 'Product Development'::text, 'Completed'::text])),
  CONSTRAINT crop_lifecycle_pkey PRIMARY KEY (id)
);
CREATE TABLE public.spec_bittergourd (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  fruit_count_per_plant integer,
  color text,
  avg_weight_g numeric,
  uniformity text,
  surface_texture text,
  length_inches numeric,
  diameter_inches numeric,
  CONSTRAINT spec_bittergourd_pkey PRIMARY KEY (id),
  CONSTRAINT spec_bittergourd_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_cabbage (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  maturity_days integer,
  leaf_covering text,
  fruit_color text,
  compactness text,
  shape text,
  fruit_size text,
  avg_weight_g numeric,
  core_size text,
  uniformity text,
  cracking text,
  CONSTRAINT spec_cabbage_pkey PRIMARY KEY (id),
  CONSTRAINT spec_cabbage_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_carrot (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  length_inch numeric,
  diameter_inch numeric,
  weight_single_g numeric,
  avg_5_fruit_weight_g numeric,
  color text,
  shape text,
  taste text,
  uniformity text,
  cracking text,
  shelf_life text,
  CONSTRAINT spec_carrot_pkey PRIMARY KEY (id),
  CONSTRAINT spec_carrot_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_cauliflower (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  leaf_color text,
  plant_habit text,
  leaves_per_plant integer,
  maturity_days integer,
  fruit_color text,
  compactness text,
  uniformity text,
  leaf_covering text,
  weight_single_g numeric,
  avg_5_fruit_weight_g numeric,
  CONSTRAINT spec_cauliflower_pkey PRIMARY KEY (id),
  CONSTRAINT spec_cauliflower_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_chili (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  segment text,
  plant_height_inch numeric,
  no_of_branches integer,
  clusters_per_plant integer,
  fruits_per_cluster_avg numeric,
  fruits_per_plant integer,
  length_cm numeric,
  diameter_inch numeric,
  avg_weight_g numeric,
  uniformity text,
  pungency text,
  seeds_per_fruit integer,
  virus_present boolean,
  color text,
  skin_thickness text,
  wrinkle boolean,
  shape text,
  weight_2_plants_g numeric,
  recovery_2kg_wet numeric,
  days_to_dry integer,
  next_growth_status text,
  CONSTRAINT spec_chili_pkey PRIMARY KEY (id),
  CONSTRAINT spec_chili_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_cucumber (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  node_distance numeric,
  variety_type text,
  fruit_count_per_plant integer,
  color text,
  shine text,
  weight_single_g numeric,
  avg_5_fruit_weight_g numeric,
  uniformity text,
  length_inches numeric,
  diameter_inches numeric,
  ribs_presence boolean,
  shelf_life text,
  CONSTRAINT spec_cucumber_pkey PRIMARY KEY (id),
  CONSTRAINT spec_cucumber_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_melon (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  fruits_per_plant integer,
  rind_color text,
  flesh_color text,
  shape text,
  texture text,
  avg_weight_g numeric,
  diameter_cm numeric,
  uniformity text,
  brix_sweetness numeric,
  cracking text,
  CONSTRAINT spec_melon_pkey PRIMARY KEY (id),
  CONSTRAINT spec_melon_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_pumpkin (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  vine_length numeric,
  primary_vines_count integer,
  internode_length numeric,
  male_female_ratio text,
  fruits_per_plant integer,
  length_inches numeric,
  diameter_cm numeric,
  rind_color text,
  rind_hardness text,
  avg_fruit_weight_kg numeric,
  flesh_color text,
  flesh_thickness numeric,
  taste text,
  CONSTRAINT spec_pumpkin_pkey PRIMARY KEY (id),
  CONSTRAINT spec_pumpkin_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_squash (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  fruits_per_plant integer,
  fruit_weight_single numeric,
  avg_5_fruit_weight numeric,
  fruit_length numeric,
  fruit_diameter numeric,
  fruit_color text,
  fruit_shape text,
  fruit_shine text,
  fruit_straightness text,
  pithiness text,
  taste text,
  picking_no integer,
  yield_per_picking_kg numeric,
  total_yield_all_pickings numeric,
  seed_check_notes text,
  CONSTRAINT spec_squash_pkey PRIMARY KEY (id),
  CONSTRAINT spec_squash_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);
CREATE TABLE public.spec_watermelon (
  id uuid NOT NULL DEFAULT uuid_generate_v4(),
  lifecycle_id uuid,
  fruits_per_plant integer,
  color text,
  shape text,
  flesh_color text,
  avg_weight_kg numeric,
  uniformity text,
  brix_sweetness numeric,
  diameter_cm numeric,
  CONSTRAINT spec_watermelon_pkey PRIMARY KEY (id),
  CONSTRAINT spec_watermelon_lifecycle_id_fkey FOREIGN KEY (lifecycle_id) REFERENCES public.crop_lifecycle(id)
);